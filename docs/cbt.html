<html>

<head>
<title>CBT code</title>
</head>
<script type="text/javascript">

/*

®”‚Ì•„†‰»	
http://www.geocities.jp/m_hiroi/clisp/clispb27.html

”‚Æ•„†uÀ
http://chichiue.hahaue.com/num.html

*/

function toBinaryStr(val, nBits)
{
	var s = "";
	for (var i=0; i<nBits; ++i) {
		s += "0";
	}
	return (s+val.toString(2)).slice(-nBits);
}

function calcCBTcodes()
{
	var m = Number(document.getElementById("m").value);
	var log2 = Math.log(m+1) / Math.log(2);
	var bits = Math.ceil(log2);
	var pow2 = Math.pow(2, bits);
	
	var strs = [];
	for (var i=0; i<(pow2 - m); ++i) {
		strs.push(
			(" "+i).slice(-2)
			+ " "
			+ toBinaryStr(i, bits-1)
		);
	}
	for (var i=(pow2 - m); i<m; ++i) {
		strs.push(
			(" "+i).slice(-2)
			+ " "
			+ toBinaryStr(i+pow2-m, bits)
		);
	}
	document.getElementById("text").value = strs.join("\r\n");
}

</script>
<body>

<label for="m">max num</label> : <input id="m" type="number" value="10" style="ime-mode: disabled;" />
<input type="button" value="calc" onClick="calcCBTcodes();" accesskey="c" />
<br>
<textarea id="text" rows=32 cols=16></textarea>

</body>
</html>